<!DOCTYPE html>  <html> <head>   <title>store.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="application.html">                 application.coffee               </a>                                           <a class="source" href="collection-view.html">                 collection-view.coffee               </a>                                           <a class="source" href="collection.html">                 collection.coffee               </a>                                           <a class="source" href="composite-view.html">                 composite-view.coffee               </a>                                           <a class="source" href="error-model.html">                 error-model.coffee               </a>                                           <a class="source" href="form-view.html">                 form-view.coffee               </a>                                           <a class="source" href="index.html">                 index.coffee               </a>                                           <a class="source" href="item-view.html">                 item-view.coffee               </a>                                           <a class="source" href="model.html">                 model.coffee               </a>                                           <a class="source" href="region-manager.html">                 region-manager.coffee               </a>                                           <a class="source" href="router.html">                 router.coffee               </a>                                           <a class="source" href="store.html">                 store.coffee               </a>                                           <a class="source" href="utils.html">                 utils.coffee               </a>                                           <a class="source" href="view-model.html">                 view-model.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               store.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="nv">Backbone = </span><span class="nx">require</span> <span class="s">&#39;backbone&#39;</span>
<span class="nv">_ = </span><span class="nx">require</span> <span class="s">&#39;underscore&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>This is an extremely simple class for in process
state management. Rather than relying on global
variables, store is available from the application,
and accessible at ctx.store inside any router function.</p>

<p>The store extends Backbone.Events, and can be listened
on for event changes, and used as an application wide
notification bus.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">module.exports = </span><span class="k">class</span> <span class="nx">Store</span>
  <span class="nv">setIn: </span><span class="nf">(bucket, name, value) -&gt;</span>
    <span class="nx">@</span><span class="p">[</span><span class="nx">bucket</span><span class="p">]</span> <span class="o">?=</span> <span class="p">{}</span>
    <span class="nx">@</span><span class="p">[</span><span class="nx">bucket</span><span class="p">][</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="nx">@trigger</span> <span class="s">&#39;setIn&#39;</span><span class="p">,</span> <span class="nx">bucket</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span>
    <span class="nx">@trigger</span> <span class="s">&quot;set:</span><span class="si">#{</span><span class="nx">bucket</span><span class="si">}</span><span class="s">:</span><span class="si">#{</span><span class="nx">name</span><span class="si">}</span><span class="s">&quot;</span><span class="p">,</span> <span class="nx">value</span>

  <span class="nv">set: </span><span class="nf">(name, value) -&gt;</span>
    <span class="nx">@</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="nx">@trigger</span> <span class="s">&#39;set&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span>
    <span class="nx">@trigger</span> <span class="s">&#39;set:&#39;</span><span class="o">+</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span>

<span class="nx">_</span><span class="p">.</span><span class="nx">extend</span> <span class="nx">Store</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Events</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 